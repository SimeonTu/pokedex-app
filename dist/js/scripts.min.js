const colorThief=new ColorThief;let pokemonList=[],missingNo="img/missingNo.png",offset,gen,end,results,searchFlag=0,finalOffset,flag=0,loadBtn=$("#btn-load-pokemon"),loadingWrapper=$(`<div class="loading-wrapper">
                            <img class="loading-gif" src="./img/pikachu-running.gif">
                          </div>`);const RGBToHSL=(e,o,n,t)=>{e/=255,o/=255,n/=255;let a=Math.max(e,o,n),s=a-Math.min(e,o,n),l=s?a===e?(o-n)/s:a===o?2+(n-e)/s:4+(e-o)/s:0,r=100*(s?a<=.5?s/(2*a-s):s/(2-(2*a-s)):0)+"%",d=100*(2*a-s)/2;return d+=parseInt(t),[60*l<0?60*l+360:60*l,r,d=d>100?"100%":d<0?"0%":d+"%"].toString()},intersectionObserver=new IntersectionObserver(async function(e){console.log(e),e[0].isIntersecting&&0==flag&&(console.log("flag within observer: "+flag),$("observer").remove(),console.log("SEEN!!"),console.log("NOT OBSERVING"),console.log("search flag within observer: "+searchFlag),1==searchFlag?loadDataFromSearch(offset,offset+16):loadData(offset+1,offset+16),setTimeout(()=>{$("#pokelist").append($("<observer></obeserver>")),intersectionObserver.observe($("observer")[0]),console.log("OBSERVING")},2200))});function addListItem(e){flag=3;let o=$(`<div class="col col-xs-12 col-sm-6 col-md-4 col-lg-3 poke-item-col poke-item-col-${e.id}" data-bs-toggle="modal" data-bs-target="#pokeModal">
                      <div class="poke-item poke-item-${e.id}">
                        <div class="poke-thumbnail">
                          <div class="poke-thumbnail-bg">
                          </div>
                          <img class="poke-img" id="poke-img-${e.id}" src="${e.imageUrl}"/>
                        </div>
                        <div class="poke-info">
                          <p class="poke-id">#</p>
                          <p class="poke-name">${e.name}</p>
                          <div class="poke-types">
                          </div>
                        </div>
                      </div>
        </div>`);o.hide();let n=e.id<10?`#000${e.id}`:e.id>=10&&e.id<100?`#00${e.id}`:e.id>=100&&e.id<1e3?`#0${e.id}`:`#${e.id}`;o.children(".poke-item").children(".poke-info").children(".poke-id").text(n),e.types.forEach(function(n){o.children(`.poke-item-${e.id}`).children(".poke-info").children(".poke-types").append($(`<span class="pill bg-color-${n}">${n}</span>`))}),o.on("click",()=>showModal(e)),$(".poke-row").append(o)}function toggleButton(){let e=$(".gen-dropdown-menu"),o=$("#gen-dropdown-btn");e.hasClass("toggle")?(e.toggleClass("toggle"),o.css("filter","contrast(0.9)"),e.slideDown()):(e.toggleClass("toggle"),o.css("filter","none"),e.slideUp())}function checkGen(e,o,n){if(offset=n,console.log("num within checkgen is: "+o),console.log("max within chechgen is: "+n),1==e&&offset>=151)return end=1,151;if(2==e&&offset>=251)return end=1,251;if(3==e&&offset>=386)return end=1,386;if(4==e&&offset>=493)return end=1,493;if(5==e&&offset>=649)return end=1,649;else if(6==e&&offset>=721)return end=1,721;else if(7==e&&offset>=809)return end=1,809;else if(8==e&&offset>=905)return end=1,905;else if(9==e&&offset>=1017)return end=1,1017;else return n}function genButtons(e,o){$(`.gen-${e}`).on("click",()=>{"none"==loadBtn.css("display")&&loadBtn.show(),$("observer").length&&intersectionObserver.unobserve($("observer")[0]),1==end&&(end=0),$("#gen-dropdown-btn").text($(`.gen-${e}`).html()).append($("<span id='hamburger'> ☰</span>")),$("#now-showing-div").html(`Now showing:&nbsp;<span>${$(`.gen-${e}`).html()}</span>`),$("input[type='text']").val(""),toggleButton(),searchFlag=0,gen=e,flag=3,$(".poke-row").empty(),loadData(o+1,o+16)})}$("#gen-dropdown-btn").on("click",toggleButton),$(window).on("click",e=>{"block"!=$(".gen-dropdown-menu").css("display")||Array.from(e.target.classList).includes("dropdown-item")||"gen-dropdown-btn"==e.target.id||"hamburger"==e.target.id||toggleButton()}),$(window).scroll(function(){$(this).scrollTop()>450?("none"==$(".modal").css("display")&&($("#now-showing-div").fadeIn(),$("#now-showing-div").css("display","flex")),$("#back-to-top").fadeIn(),$("#back-to-top").css("display","flex")):($("#now-showing-div").fadeOut(),$("#back-to-top").fadeOut())}),$("#back-to-top").click(function(){return $("body,html").animate({scrollTop:0},600,"easeOutQuad"),!1}),$(".gen-none").on("click",()=>{"none"==loadBtn.css("display")&&loadBtn.show(),$("observer").length&&intersectionObserver.unobserve($("observer")[0]),1==end&&(end=0),$("#gen-dropdown-btn").text($(".gen-none").html()).append($("<span id='hamburger'> ☰</span>")),$("#now-showing-div").html(`Now showing:&nbsp;<span>All Pok\xe9mon</span>`),$('input[type="text"]').val(""),$(".poke-row").empty(),toggleButton(),searchFlag=0,gen=0,flag=3,$(".poke-row").empty(),loadData(1,16)});for(let i=1;i<10;i++){let e;switch(i){case 1:e=0;break;case 2:e=151;break;case 3:e=251;break;case 4:e=386;break;case 5:e=493;break;case 6:e=649;break;case 7:e=721;break;case 8:e=809;break;case 9:e=905}genButtons(i,e)}function loadBtnFunc(){loadBtn.hide(),flag=0,0==searchFlag?loadData(offset+1,offset+16):(console.log("offset within button: "+offset),loadDataFromSearch(offset,offset+16)),$("#pokelist").append($("<observer></obeserver>")),setTimeout(()=>{intersectionObserver.observe($("observer")[0])},1800)}loadBtn.on("click",loadBtnFunc);let mediaQueryWidth=window.matchMedia("(max-width: 575px)"),mediaQueryHeight=window.matchMedia("(max-width: 575px), (max-height: 850px)");function handleTabletChangeWidth(e){e.matches?$("input[type='text']").attr("placeholder","Search"):$("input[type='text']").attr("placeholder","")}function handleTabletChangeHeight(e){e.matches?$(".modal-dialog").addClass("modal-dialog-centered"):$(".modal-dialog").removeClass("modal-dialog-centered")}function filterPokemon(e){end=0,flag=3,finalOffset=null;let o=$("input[type='text']").val();console.log(o),o?(pokemonList=[],$(".poke-row").empty(),$(".poke-row").append(loadingWrapper),loadBtn.hide(),getNames().then(e=>{if(1==gen?(results=e.filter(e=>{if(e.id<152&&e.name.includes(o.toLowerCase()))return!0}),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation I</span>&#160;and&nbsp;<span>"${o}"</span>`)):2==gen?(results=e.filter(e=>{if(e.id>151&&e.id<252&&e.name.includes(o.toLowerCase()))return!0}),console.log(o),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation II</span>&#160;and&nbsp;<span>"${o}"</span>`)):3==gen?(results=e.filter(e=>{if(e.id>251&&e.id<387&&e.name.includes(o.toLowerCase()))return!0}),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation III</span>&#160;and&nbsp;<span>"${o}"</span>`)):4==gen?(results=e.filter(e=>{if(e.id>386&&e.id<494&&e.name.includes(o.toLowerCase()))return!0}),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation IV</span>&#160;and&nbsp;<span>"${o}"</span>`)):5==gen?(results=e.filter(e=>{if(e.id>493&&e.id<650&&e.name.includes(o.toLowerCase()))return!0}),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation V</span>&#160;and&nbsp;<span>"${o}"</span>`)):6==gen?(results=e.filter(e=>{if(e.id>649&&e.id<722&&e.name.includes(o.toLowerCase()))return!0}),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation VI</span>&#160;and&nbsp;<span>"${o}"</span>`)):7==gen?(results=e.filter(e=>{if(e.id>721&&e.id<810&&e.name.includes(o.toLowerCase()))return!0}),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation VII</span>&#160;and&nbsp;<span>"${o}"</span>`)):8==gen?(results=e.filter(e=>{if(e.id>809&&e.id<906&&e.name.includes(o.toLowerCase()))return!0}),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation VIII</span>&#160;and&nbsp;<span>"${o}"</span>`)):9==gen?(results=e.filter(e=>{if(e.id>905&&e.id<1018&&e.name.includes(o.toLowerCase()))return!0}),$("#now-showing-div").html(`Now showing:&nbsp;<span>Generation IX</span>&#160;and&nbsp;<span>"${o}"</span>`)):(results=e.filter(e=>e.name.includes(o.toLowerCase())),$("#now-showing-div").html(`Now showing:&nbsp;<span>All Pok\xe9mon</span>&#160;and&nbsp;<span>"${o}"</span>`)),results.length>0)console.log("yeppers"),console.log(results),results.length>16?(loadBtn.show(),flag=3,loadDataFromSearch(0,16)):(console.log("else reached within search"),loadDataFromSearch(0,results.length));else{console.log("Whoops!"),loadingWrapper.remove(),$(".poke-row").append("<span id='no-results-msg'>No Pok\xe9mon matched your search</span><img id='no-result-img' src='img/crying.gif'>");return}})):(console.log("no val reached!!!!"),"none"==loadBtn.css("display")&&loadBtn.show(),0==gen||1==gen?($("#now-showing-div").html("Now showing:&nbsp;<span>Generation I</span>"),$(".poke-row").empty(),searchFlag=0,loadData(1,16)):2==gen?($("#now-showing-div").html("Now showing:&nbsp;<span>Generation II</span>"),$(".poke-row").empty(),searchFlag=0,loadData(152,167)):3==gen?($("#now-showing-div").html("Now showing:&nbsp;<span>Generation III</span>"),$(".poke-row").empty(),searchFlag=0,loadData(252,267)):4==gen?($("#now-showing-div").html("Now showing:&nbsp;<span>Generation IV</span>"),$(".poke-row").empty(),searchFlag=0,loadData(387,402)):5==gen?($("#now-showing-div").html("Now showing:&nbsp;<span>Generation V</span>"),$(".poke-row").empty(),searchFlag=0,loadData(494,509)):6==gen?($("#now-showing-div").html("Now showing:&nbsp;<span>Generation VI</span>"),$(".poke-row").empty(),searchFlag=0,loadData(650,665)):7==gen?($("#now-showing-div").html("Now showing:&nbsp;<span>Generation VII</span>"),$(".poke-row").empty(),searchFlag=0,loadData(722,737)):8==gen?($("#now-showing-div").html("Now showing:&nbsp;<span>Generation VIII</span>"),$(".poke-row").empty(),searchFlag=0,loadData(810,825)):9==gen&&($("#now-showing-div").html("Now showing:&nbsp;<span>Generation IX</span>"),$(".poke-row").empty(),searchFlag=0,loadData(906,921)))}async function getNames(){return fetch("pokemonNamesAndID.json").then(e=>e.text()).then(e=>JSON.parse(e)).catch(e=>console.error(e))}function loadData(e,o){pokemonList=[],loadList(e,o).then(function(){pokemonList.forEach(function(e){addListItem(e)})}).then(()=>loadPokesAnim())}function loadDataFromSearch(e,o){pokemonList=[],searchFlag=1,loadListFromSearch(e,o).then(function(){pokemonList.forEach(function(e){addListItem(e)})}).then(()=>loadPokesAnim())}async function loadList(e,o){for(console.log(flag),(0==flag||3==flag)&&($(".poke-row").append(loadingWrapper),loadingWrapper.addClass("display")),o=offset=checkGen(gen,e,o),console.log("num within loadlist: "+e),console.log("max within loadlist: "+o);e<=o;e++){let n=`https://pokeapi.co/api/v2/pokemon/${e}`;pokemonList.push(fetch(n).then(e=>e.json()))}return Promise.all(pokemonList).then(e=>{console.log(e),pokemonList=e.map(e=>({name:e.name.charAt(0).toUpperCase()+e.name.slice(1),id:e.id,imageUrl:null==e.sprites.other["official-artwork"].front_default?missingNo:e.sprites.other["official-artwork"].front_default,types:e.types.map(e=>e.type.name)}))})}async function loadListFromSearch(e,o){for(console.log(flag),(0==flag||3==flag)&&($(".poke-row").append(loadingWrapper),loadingWrapper.addClass("display")),offset=o,finalOffset=null,console.log("num within listsearch func: "+e),console.log("offset within listsearch func: "+offset),(offset>results.length||results.length<16)&&(console.log("offset < results or results > 16\n setting flag to 1 and offset to results.length"),searchFlag=0,end=1,finalOffset=results.length%16,offset=results.length);e<offset;e++){let n=`https://pokeapi.co/api/v2/pokemon/${results[e].name.toLowerCase()}`;console.log(n),pokemonList.push(fetch(n).then(e=>e.json()))}return Promise.all(pokemonList).then(e=>{for(x in e)pokemonList=e.map(e=>({name:e.name.charAt(0).toUpperCase()+e.name.slice(1),id:e.id,imageUrl:null==e.sprites.other["official-artwork"].front_default?missingNo:e.sprites.other["official-artwork"].front_default,types:e.types.map(e=>e.type.name)}));console.log(pokemonList)})}function loadPokesAnim(){let e=finalOffset||pokemonList.length,o=pokemonList.length<16?pokemonList.length:finalOffset||16;flag=3,console.log("counter is: "+e),console.log("flag within anim func: "+flag);for(let n=0;n<o;n++){let t=document.querySelector(`#poke-img-${pokemonList[n].id}`);if(t.crossOrigin="Anonymous",t.complete){let a=`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="opacity:0.75; transform:rotate(145deg);" id="Layer_1" data-name="Layer 1" viewBox="0 0 910.13 908.95"><defs><style>.cls-1{fill:%23fff;opacity:0;}.cls-2{fill:rgb(${colorThief.getColor(t).toString()});}.cls-3{fill:rgb(${colorThief.getColor(t).toString()});}</style></defs><title>Pokeball</title><path class="cls-1" d="M337,730c.61-252,204.75-455.12,456.36-454.09,251.82,1,454.28,204.19,453.77,455.38s-204.7,454.42-455.63,453.56C539.59,1184,336.4,980.67,337,730Z" transform="translate(-337 -275.94)"/><path class="cls-2" d="M510,764.63c35.7,0,71.41.21,107.11-.17,7.31-.08,10.2,2,12,9.28,18.82,73.7,86,125.21,163,125.39A168.44,168.44,0,0,0,955.42,773.8c2-7.44,4.77-9.34,12-9.31q107.67.35,215.35,0c8,0,9.52,1.5,8.64,9.91-17.11,163.09-136.13,305.55-302.49,345.19-136.23,32.45-259,1.84-364.57-90.72-72-63.09-113.69-143.59-129.42-237.73-4.43-26.52-4.49-26.5,22.66-26.5Z" transform="translate(-337 -275.94)"/><path class="cls-3" d="M1073.7,695.83c-34.94,0-69.89-.26-104.82.19-8.34.11-11.65-2.73-13.91-10.64C935.18,616,874.39,565.77,806.24,562c-76.78-4.26-141.58,35.28-170.68,104.14-.87,2.07-1.66,4.19-2.38,6.31-8,23.38-8,23.38-33.4,23.38-64.63,0-129.25-.15-193.88.15-9.61,0-13.84-.92-12.11-12.72,22.8-155.69,106.22-266.09,251.65-325,156.73-63.54,330.1-21.39,443.93,103.13,57.07,62.43,90.45,136.3,101,220.32,1.76,14.11,1.64,14.15-12.93,14.16Q1125.56,695.84,1073.7,695.83Z" transform="translate(-337 -275.94)"/><path class="cls-2" d="M793.12,848.53c-64.13.57-118.48-51.88-119-114.84-.55-67.27,51.26-121,117.05-121.43,64.85-.41,118.47,52.27,119.29,117.21C911.3,794,858.11,848,793.12,848.53Z" transform="translate(-337 -275.94)"/><path class="cls-1" d="M793.1,672.52c32.69.37,57.55,26.21,57.15,59.39-.39,31.86-26.4,56.79-59,56.55a57.74,57.74,0,0,1-57.36-58.33C734.31,697.35,760.2,672.15,793.1,672.52Z" transform="translate(-337 -275.94)"/></svg>`;document.querySelector(`.poke-item-${pokemonList[n].id}`).style.backgroundColor=`hsl(${RGBToHSL(...colorThief.getColor(t),"+20")})`,$(`.poke-item-col-${pokemonList[n].id}`).children(".poke-item").children(".poke-thumbnail").children(".poke-thumbnail-bg").css("background-image",`url('${a}')`),console.log("img is complete:"+pokemonList[n].name),e-=1,console.log(e)}else $(`#poke-img-${pokemonList[n].id}`).on("load",()=>{let o=`data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" style="opacity:0.75; transform:rotate(145deg);" id="Layer_1" data-name="Layer 1" viewBox="0 0 910.13 908.95"><defs><style>.cls-1{fill:%23fff;opacity:0;}.cls-2{fill:rgb(${colorThief.getColor(t).toString()});}.cls-3{fill:rgb(${colorThief.getColor(t).toString()});}</style></defs><title>Pokeball</title><path class="cls-1" d="M337,730c.61-252,204.75-455.12,456.36-454.09,251.82,1,454.28,204.19,453.77,455.38s-204.7,454.42-455.63,453.56C539.59,1184,336.4,980.67,337,730Z" transform="translate(-337 -275.94)"/><path class="cls-2" d="M510,764.63c35.7,0,71.41.21,107.11-.17,7.31-.08,10.2,2,12,9.28,18.82,73.7,86,125.21,163,125.39A168.44,168.44,0,0,0,955.42,773.8c2-7.44,4.77-9.34,12-9.31q107.67.35,215.35,0c8,0,9.52,1.5,8.64,9.91-17.11,163.09-136.13,305.55-302.49,345.19-136.23,32.45-259,1.84-364.57-90.72-72-63.09-113.69-143.59-129.42-237.73-4.43-26.52-4.49-26.5,22.66-26.5Z" transform="translate(-337 -275.94)"/><path class="cls-3" d="M1073.7,695.83c-34.94,0-69.89-.26-104.82.19-8.34.11-11.65-2.73-13.91-10.64C935.18,616,874.39,565.77,806.24,562c-76.78-4.26-141.58,35.28-170.68,104.14-.87,2.07-1.66,4.19-2.38,6.31-8,23.38-8,23.38-33.4,23.38-64.63,0-129.25-.15-193.88.15-9.61,0-13.84-.92-12.11-12.72,22.8-155.69,106.22-266.09,251.65-325,156.73-63.54,330.1-21.39,443.93,103.13,57.07,62.43,90.45,136.3,101,220.32,1.76,14.11,1.64,14.15-12.93,14.16Q1125.56,695.84,1073.7,695.83Z" transform="translate(-337 -275.94)"/><path class="cls-2" d="M793.12,848.53c-64.13.57-118.48-51.88-119-114.84-.55-67.27,51.26-121,117.05-121.43,64.85-.41,118.47,52.27,119.29,117.21C911.3,794,858.11,848,793.12,848.53Z" transform="translate(-337 -275.94)"/><path class="cls-1" d="M793.1,672.52c32.69.37,57.55,26.21,57.15,59.39-.39,31.86-26.4,56.79-59,56.55a57.74,57.74,0,0,1-57.36-58.33C734.31,697.35,760.2,672.15,793.1,672.52Z" transform="translate(-337 -275.94)"/></svg>`;if(document.querySelector(`.poke-item-${pokemonList[n].id}`).style.backgroundColor=`hsl(${RGBToHSL(...colorThief.getColor(t),"+20")})`,$(`.poke-item-col-${pokemonList[n].id}`).children(".poke-item").children(".poke-thumbnail").children(".poke-thumbnail-bg").css("background-image",`url('${o}')`),console.log("waited for img:"+pokemonList[n].name),e-=1,console.log(e),0==e){if(loadingWrapper.remove(),$(".poke-item-col").first().show(100,function e(){$(this).next(".col").show(100,e)}),1==end){$("observer").length&&intersectionObserver.unobserve($("observer")[0]),$(".poke-row").append($('<p id="no-items-msg">End of list</p>')),console.log("finished...");return}setTimeout(()=>{"block"==loadBtn.css("display")?(flag=3,console.log("setting flag to 3")):(flag=0,console.log("setting flag to 0"))},1e3)}})}}async function loadDetails(e){console.log(e);let o=$(".modal-body");return $(".modal-title").empty(),o.empty(),o.css("background","white"),o.append(loadingWrapper),loadingWrapper.addClass("display"),fetch(`https://pokeapi.co/api/v2/pokemon/${e.id}`).then(function(e){return e.json()}).then(function(o){e.id=o.id,e.imageUrl=null==o.sprites.other["official-artwork"].front_default?missingNo:o.sprites.other["official-artwork"].front_default,e.height=o.height/10,e.weight=o.weight/10,e.types=o.types.map(e=>e.type.name),e.stats=o.stats.map(function(e){return{name:e.stat.name.replace(/(^\w)|([-\s]\w)/g,e=>e.toUpperCase()),value:e.base_stat}})}).catch(function(e){console.error(e)})}function infoItem(e,o,n){let t=$('<div class="col-4 grid-item"></div'),a=$(`<p class="grid-description"> ${n} </p>`),s=$(`<p class="grid-title"> ${o} </p>`);return t.append(a),t.append(s),t}function statsItem(e){let o=$('<div class="col-12"></div>'),n;o.append($("<p class='grid-title stats'>Base stats</p>"));let t=["HP","ATK","DEF","SP.ATK","SP.DEF","SPD"],a=["red","orange","blue","lightblue","grey","green"];for(x in e.stats){n=$('<div class="stats-wrapper"></div>');let s=$(`<p class="grid-title"> ${t[x]} </p>`),l=$(`<div class="progress progress-striped active" role="progressbar" aria-label="Basic example" aria-valuenow="0" aria-valuemin="0" aria-valuemax="255">
      <div class="progress-bar progress-bar-success" style="width: 0%"></div>
    </div>`);l.attr("aria-valuenow",e.stats[x].value),e.stats[x].value/2.55<15?(l.children("div").html(`${e.stats[x].value}`),e.stats[x].value/2.55<10&&(l.children("div").css("text-align","center"),l.children("div").css("padding","0"))):576>$(window).width()&&e.stats[x].value/2.55<35?(l.children("div").css("text-align","center"),e.stats[x].value/2.55<20?(l.children("div").css("padding","0"),l.children("div").html(`${e.stats[x].value}`)):(l.children("div").css("padding","0"),l.children("div").html(`${e.stats[x].value}/255`))):l.children("div").html(`${e.stats[x].value}/255`),l.children("div").css("background-color",a[x]),n.append(s),n.append(l),o.append(n),n.children("div").children(".progress-bar").animate({width:e.stats[x].value/2.55+"%"},800,"easeOutCirc")}return o}async function showModal(e){$("#now-showing-div").fadeOut(),loadDetails(e).then(function(){console.log("loaded details...");let o=$(".modal-body");o.addClass(`modal-body-${e.id}`),o.empty();let n=$(`<div class='modal-info-image-wrapper modal-info-image-wrapper-${e.id}'></div>`),t=$(`<img id="poke-img-modal-${e.id}" src='${e.imageUrl}'/>`);n.append(t);let a=$('<div class="container text-center modal-info-stats-grid"></div>'),s=$('<div class="row d-flex justify-content-evenly"></div>');a.append(s),a.append($('<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>'));let l=e.id<10?`#000${e.id}`:e.id>=10&&e.id<100?`#00${e.id}`:e.id>=100&&e.id<1e3?`#0${e.id}`:`#${e.id}`;s.append($(`<p class="modal-poke-name">${e.name}<span class="modal-poke-id"> ${l}</span></p>`));let r=$("<div class='poke-types'></div>");e.types.forEach(function(e){r.append($(`<span class=" pill bg-color-${e}">${e}</span>`))}),s.append(r),s.append(infoItem(e,"Height",`${e.height}m`)),s.append(infoItem(e,"Weight",`${e.weight}kg`)),s.append(statsItem(e)),n.hide(),a.hide(),o.append(n),o.append(a);let d=document.querySelector(`#poke-img-modal-${e.id}`);d.crossOrigin="Anonymous",d.complete?(loadingWrapper.removeClass("display"),n.fadeIn(),a.fadeIn(),$(`.modal-body-${e.id}`).css("background",`linear-gradient(356deg, rgb(255,255,255) 30%, rgb(${colorThief.getColor(d).toString()}) 100%)`),$(".grid-description").css("color",`hsl(${RGBToHSL(...colorThief.getColor(d),"-20")})`),console.log("modal img complete: "+e.name),console.log(colorThief.getColor(d).toString())):(loadingWrapper.removeClass("display"),d.addEventListener("load",function(){n.fadeIn(),a.fadeIn(),$(`.modal-body-${e.id}`).css("background",`linear-gradient(356deg, rgb(255,255,255) 50%, rgb(${colorThief.getColor(d).toString()}) 100%)`),$(".grid-description").css("color",`hsl(${RGBToHSL(...colorThief.getColor(d),"-20")})`),console.log("waited for modal img: "+e.name),console.log(colorThief.getColor(d).toString())}))})}function pokeCursors(){let e=()=>Math.floor(Math.random()*(Math.floor(12)-Math.ceil(1))+Math.ceil(1)),o=document.getElementsByTagName("a");document.body.style=`cursor: url('img/cursors/${e()}.cur'), auto;`;for(let n=0;n<o.length;n++)o[n].style=`cursor: url('img/cursors/${e()}.cur'), auto;`}mediaQueryWidth.addEventListener("change",handleTabletChangeWidth),mediaQueryHeight.addEventListener("change",handleTabletChangeHeight),handleTabletChangeWidth(mediaQueryWidth),handleTabletChangeHeight(mediaQueryHeight),$("form").on("submit",e=>{filterPokemon(e),e.preventDefault()}),$(".modal").on("hide.bs.modal",()=>{$(this).scrollTop()>450&&$("#now-showing-div").fadeIn()}),pokeCursors(),$("input[type='text']").val(""),loadData(1,16);